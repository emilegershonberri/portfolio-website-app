!function(e){var n="object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof self&&self;try{var t=n.performance,o=n.Promise,r=n.MessageChannel,a=n.requestAnimationFrame;if(!(t&&t.mark&&o&&r&&a))return;var s=function(n){return t.mark("chunk-"+e+"-"+n)},f=!1,i=!1,c=o.resolve();s("exec-start");for(var u=0;u<5;u++)c=c.then();if(c.then((function(){s("exec-sync-end")})),"undefined"!=typeof window){var l=function(){f&&!i&&(s("after-paint"),i=!0)},p=new r;p.port1.onmessage=l,p.port2.postMessage(null),setTimeout(l),a((function(){f=!0,s("raf"),p.port2.postMessage(null),setTimeout(l)}))}}catch(e){n.__jsPerformanceMarksError=e}}("allmemoriesgrid~favoritememoriesgrid");(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2553:function(e,t,r){},2554:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r(3120),n=r(1796),o=r(3113),a=r(3160),s=r(1805),c=r(2071),u=r(2122),l=r(2395);function d(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r(2555);var p=function(e){var t,r;function l(t){var r;return(r=e.call(this,t)||this).itemState=void 0,r._cplMemory=void 0,r._lastRenderedCPLMemoryKey=void 0,r.className="MemoryItemView",r.itemState=void 0,r._handleMemoryInfoChanged=r._handleMemoryInfoChanged.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,y(t,r);var m,p,f=l.prototype;return f._handleMemoryInfoChanged=function(e){if(e.currentValue){this._cplMemory=e.currentValue,this._updatePlugins();var t=i.a.getKeyAssetRecordKey(this._cplMemory);this.itemState&&!n.a.areRecordKeysEqual(this._lastRenderedAssetKey,t)&&(this.itemState.assetKey=t,this._handleAssetKeyChanged()),this._updateItemView()}},f.render=function(t){var r=this.itemState;if(this.itemState){var a=null==r?void 0:r.memoryKey;if(a&&(!this._lastRenderedCPLMemoryKey||!n.a.areRecordKeysEqual(this._lastRenderedCPLMemoryKey,a))){this._cplMemory=o.a.instance.memoriesStore.get(a),this.fallbackImageElement=void 0,this._lastRenderedCPLMemoryKey&&o.a.instance.memoriesStore.removeListener(this._lastRenderedCPLMemoryKey,this._handleMemoryInfoChanged),o.a.instance.memoriesStore.addListener(a,this._handleMemoryInfoChanged);var s=i.a.getKeyAssetRecordKey(this._cplMemory);s&&this.itemState&&(this.itemState.assetKey=s,this._handleAssetKeyChanged()),this._lastRenderedCPLMemoryKey=a}e.prototype.render.call(this,t)}},f._handleLoadSuccess=function(t,r){e.prototype._handleLoadSuccess.call(this,t,r),this.asset&&this.master&&a.a.getImage({asset:this.asset,master:this.master,desiredSize:400,sizeVariant:s.a.ThumbLike,requestReason:c.a.MemoryPlayerPrefetch,refetchAssetAndMaster:u.a,offscreeniness:2})},f.wasRemoved=function(){this._lastRenderedCPLMemoryKey&&o.a.instance.memoriesStore.removeListener(this._lastRenderedCPLMemoryKey,this._handleMemoryInfoChanged),this._lastRenderedCPLMemoryKey=void 0,this._cplMemory=void 0,e.prototype.wasRemoved.call(this)},m=l,(p=[{key:"cplMemory",get:function(){return this._cplMemory}}])&&d(m.prototype,p),Object.defineProperty(m,"prototype",{writable:!1}),l}(l.b)},2555:function(e,t,r){},2556:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(2560),n=(r(2557),r(3120)),o=r(2558);function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t,r;function i(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this)._textContainer=void 0,t._prevTitle=void 0,t._prevSubtitle=void 0,t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r);var s=i.prototype;return s.update=function(e){this._updateTitle()},s._updateTitle=function(){var e,t,r,i,a=(null==(e=this.itemView.cplMemory)?void 0:e.fields.title_decoded)||"",s=(null==(t=this.itemView.cplMemory)?void 0:t.fields.subtitle_decoded)||"";a===this._prevTitle&&s===this._prevSubtitle||(this._textContainer&&this._textContainer.remove(),this._textContainer=null==(r=Object(o.a)(a,s,n.a.getStoryTitleCategory(null==(i=this.itemView.cplMemory)?void 0:i.fields.graphData_decoded)))?void 0:r.container,this._textContainer.classList.add("MemoryTitleOverlayItemViewPlugin"),this.itemView.element.appendChild(this._textContainer),this._prevTitle=a,this._prevSubtitle=s)},i}(i.a)},2557:function(e,t,r){},2558:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c}));var i=r(3113),n=r(3120);function o(e,t,r){var i,n=document.createElement("div");n.className="MemoryFont";var o=document.createElement("div");o.className=null!=(i="MemoryFont-title "+r)?i:"",o.textContent=e;var a=document.createElement("div");return a.className="MemoryFont-subtitle",a.textContent=t,n.appendChild(o),n.appendChild(a),{container:n,titleContainer:o,subtitleContainer:a}}function a(e){var t=i.a.instance.memoriesStore.get(e);if(null!=t&&t.fields.graphData_decoded)return o(t.fields.title_decoded||"",t.fields.subtitle_decoded||"",n.a.getStoryTitleCategory(t.fields.graphData_decoded))}function s(e,t,r){var i=r?373:542,n=Math.max(.5,t/i);e.style.setProperty("--memory-font-scale-factor",""+n)}function c(e,t){var r;r=t>750?t/820:Math.min(1.1,t/373),r=Math.max(.5,r),e.style.setProperty("--memory-font-scale-factor",""+r)}r(2559)},2559:function(e,t,r){},2560:function(e,t,r){"use strict";function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return a}));var a=function(e){var t,r,n,a;function s(t){var r;return(r=e.call(this,t)||this).itemView=void 0,r.itemView=t,r}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r),n=s,(a=[{key:"itemState",get:function(){return this.itemView.itemState}}])&&i(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(r(2393).a)},2561:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(2560);function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r(2562);var o=function(e){var t,r;function i(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this)._backdrop=void 0,t}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,n(t,r),i.prototype.update=function(e){this._backdrop||(this._backdrop=document.createElement("div"),this._backdrop.className="MemoryBackdropOverlayItemViewPlugin",this._backdrop.appendChild(document.createElement("div")),this.itemView.element.appendChild(this._backdrop))},i}(i.a)},2562:function(e,t,r){},3154:function(e,t,r){"use strict";r.d(t,"a",(function(){return Y}));var i=r(1343),n=r(2387),o=r(3136),a=r(2089),s=r(3124),c=r(3161),u=r(3113),l=r(3120),d=r(1805),m=r(2064),y=r(2412),p=r(2554),f=r(2556),h=r(2561),v=r(1876),b=r(2388),g=r(2389),_=["isSingleColumn","mouseNavbarLayout"];var M=r(2558),O=r(1944),w=r(3179),S=r(3245),j=r(2409),P=(r(2392),r(2391)),C=r(3127),K=r(3132);function L(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,k(i.key),i)}}function k(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).itemView=void 0,r.itemView=t,r.shouldAlwaysShow=!0,r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,A(t,r);var n,o,a=i.prototype;return a.menuItems=function(){var e,t;return Object(C.c)(C.b,!(null==(e=this.itemView.cplMemory)||null==(t=e.fields)||!t.isFavorite))},a.onMenuItemSelected=function(e){var t=K.a.getKey(this.itemView.cplMemory);t&&Object(C.a)(t)(e)},n=i,(o=[{key:"isPluginAllowed",get:function(){return!!this.itemState}}])&&L(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),i}(P.a),I=r(3140);function E(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,V(i.key),i)}}function V(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===typeof t?t:String(t)}function N(e,t){var r,i;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r=e,i=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(r,i)}var T=function(e){function t(t){var r;return(r=e.call(this,Object.assign({},t,{initialScrollPosition:m.b.Start,metadataLoader:new y.a({hydrateRange:s.c,hydrateListCount:c.a})}))||this)._mouseNavbarLayout=void 0,r.isKeyboardActionAllowed=function(e){return!1},r._mouseNavbarLayout=t.mouseNavbarLayout,r._keyboardActionAllowedFn=r.isKeyboardActionAllowed,r}N(t,e);var r,i,n=t.prototype;return n.createItemView=function(){var e=this.onNavigate,t=this.gridKey,r=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(r=e.call.apply(e,[this].concat(n))||this).itemListKey=t,r}return N(r,e),r}(R);return new p.a({itemViewPlugins:[f.a,h.a,Object(w.b)({gridKey:this.gridKey}),Object(S.a)(e),r]})},n.itemStateForIndex=function(t){var r,i=e.prototype.itemStateForIndex.call(this,t),n=u.a.instance.listStore.getListItems(this.gridKey),o=n?n[t]:void 0;if(o){var a=u.a.instance.memoriesStore.get(o);r=l.a.getKeyAssetRecordKey(a)}return Object.assign({},i,{memoryKey:o,assetKey:r,isCover:!0,imageLoaderSizeVariant:d.a.EqualOrGreaterMSL})},n.handleGridMetricsChange=function(){var t,r;if(e.prototype.handleGridMetricsChange.call(this),null!=(t=this.grid)&&t.element){var i=null==(r=this.grid.logicalGridMetrics)?void 0:r.logicalAverageCellWidth;i&&Object(M.c)(this.grid.element,i,this.environmentState.primaryInteractionMode===v.a.Touch&&this.environmentState.sizeClass===v.d.Compact)}},n.initializeSelection=function(){this.selectionAPI.setSelectMode(O.SelectMode.Disabled)},r=t,(i=[{key:"layoutMetrics",get:function(){var e=this.container.clientWidth,t=e<480;return function(e){var t,r=e.isSingleColumn,i=e.mouseNavbarLayout,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,_),o=Object(b.b)(n),a=n.primaryInteractionMode,s=n.viewportWidth,c=n.sizeClass,u=Math.max(20,Math.floor(.038*s)),l=u,d=Math.max(Math.max(Math.floor(.274*s-146),u)),m=r?1:2;t=a===v.a.Touch?l+Object(b.c)():20+Object(b.a)(i);var y=a===v.a.Touch&&c===v.d.Compact&&s<g.a.memoriesAspectRatioCompactViewportThreshold?g.a.memoriesItemAspectRatioCompact:g.a.memoriesItemAspectRatioRegular;return Object.assign({},o,{numColumns:m,rowGap:l,columnGap:u,paddingInlineStart:d,paddingInlineEnd:d,paddingBlockStart:t,paddingBlockEnd:l,itemAspectRatio:y})}(Object.assign({},this.environmentState,{viewportWidth:e,isSingleColumn:t,mouseNavbarLayout:this._mouseNavbarLayout,itemDisplayMode:Object(I.b)(this.environmentState)}))}},{key:"mouseNavbarLayout",set:function(e){this._mouseNavbarLayout=e,this.grid&&this.grid.setLayoutMetrics(this.layoutMetrics,!0)}}])&&E(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(j.b),x=r(2413),G=r(2390),F=r(1661),z=r(1829),q=r(3160),D=r(2071),W=r(2122),B=r(1943),J=r(2415),H=(r(2553),r(2381)),Q=r(2373),U=r(3141),X=r(2375),Y=function(e){var t=e.filter,r=i.useMemo((function(){return"all"===t?Object(G.a)():Object(G.b)()}),[t]),s=Object(n.a)(r),c=Object(o.b)("FavoriteMemoriesGridPage.EmptyPage.LearnMore"),u=Object(a.e)(),l=i.useRef();i.useEffect((function(){if(s){var e=t+"MemoriesPageViewed";F.b.instance.report(e,{numItems:Object(z.b)(s)})}}),[s,t]);var m=i.useCallback((function(e){var t=new T(Object.assign({},e,{gridKey:r,mouseNavbarLayout:"toolbarOnly",onNavigate:function(e){var t;F.b.instance.report("playbackMemory");var r=null==(t=e.cplMemory)?void 0:t.recordName;r&&u&&(e.asset&&e.master?(q.a.getImage({asset:e.asset,master:e.master,desiredSize:400,sizeVariant:d.a.ThumbLike,requestReason:D.a.MemoryPlayer,offscreeniness:1,refetchAssetAndMaster:W.a}),u(r)):u(r))}}));return l.current=t,t}),[r,u]),y=Object(a.f)(),p=i.useMemo((function(){return i.createElement(Q.a,{touchRegularNavbar:i.createElement(U.e,{filter:t}),touchCompactNavbar:i.createElement(U.e,{filter:t}),mouseToolbar:i.createElement(X.d,{filter:t})})}),[t]);Object(H.b)(p,y);var f="all"===t?"All":"Favorite";return i.createElement(x.a,{className:"MemoriesGridWrapper",gridKey:r,createGrid:m,emptyPageComponent:i.createElement(J.a,{title:Object(o.b)(f+"MemoriesGridPage.EmptyPage.Title"),description:Object(o.b)(f+"MemoriesGridPage.EmptyPage.Subtitle"),iconSymbol:B.a,linkTitle:c})})}}}]);